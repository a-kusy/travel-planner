{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Agnieszka\\\\Desktop\\\\studia\\\\Informatyka\\\\semestr 6\\\\Szkielety w aplikacjach internetowych\\\\Lab\\\\uwierzytelnianie\\\\client\\\\src\\\\components\\\\Trips\\\\TripTable.js\";\nimport React, { useState, useEffect, useRef, useMemo } from \"react\";\nimport TripService from \"../TripService.js\";\nimport { useTable } from \"react-table\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"../Main/styles.module.css\";\nimport Navbar from \"../Navbar.js\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Trip = props => /*#__PURE__*/_jsxDEV(\"tr\", {\n  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.trip.name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.trip.date\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/edit/\" + props.trip._id,\n      children: \"Edytuj\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 11,\n  columnNumber: 5\n}, this);\n\n_c = Trip;\nexport default class TripTable extends Component {\n  //  const [trips, setTrips] = useState([]);\n  //  const [currentTrip, setCurrentTrip] = useState(null);\n  //  const [currentIndex, setCurrentIndex] = useState(-1);\n  //const tripRef = useRef();\n  //tripRef.current = trips;\n  // useEffect(() => {\n  //     retrieveTrips();\n  // }, []);\n  // const retrieveTrips = () => {\n  //     TripService.getAll()\n  //         .then((res) => {\n  //             setTrips(res.data);\n  //             console.log(res.data)\n  //         })\n  //         .catch((e) => {\n  //             console.log(e);\n  //         });\n  // };\n  // const refreshTable = () => {\n  //     retrieveTrips();\n  //     setCurrentIndex(-1)\n  //     setCurrentTrip(null)\n  // };\n  // const setActiveTrip = (trip, index) => {\n  //     setCurrentTrip(trip)\n  //     setCurrentIndex(index)\n  // }\n  // const removeAllTrips = () => {\n  //     TripService.removeAll()\n  //         .then((res) => {\n  //             console.log(res.data);\n  //             refreshTable();\n  //         })\n  //         .catch((e) => {\n  //             console.log(e);\n  //         });\n  // };\n  // const openTrip = (rowIndex) => {\n  //     const id = tripRef.current[rowIndex].id;\n  //     props.history.push(\"/trips/\" + id);\n  // };\n  // const deleteTrip = (rowIndex) => {\n  //     const id = tripRef.current[rowIndex].id;\n  //     TripService.remove(id)\n  //         .then((res) => {\n  //             props.history.push(\"/trips\");\n  //             let newTrips = [...tripRef.current]\n  //             newTrips.splice(rowIndex, 1)\n  //             setTrips(newTrips)\n  //         })\n  //         .catch((e) => {\n  //             console.log(e)\n  //         })\n  // }\n  // const columns = useMemo(() =>\n  //     [\n  //         {\n  //             Header: \"Nazwa\",\n  //             accessor: \"name\",\n  //         },\n  //         {\n  //             Header: \"Data\",\n  //             accessor: \"date\",\n  //         },\n  //         {\n  //             Header: \"Akcja\",\n  //             accessor: \"actions\",\n  //             Cell: (props) => {\n  //                 const rowIndex = props.row.id;\n  //                 return (\n  //                     <div>\n  //                         <span onClick={() => openTrip(rowIndex)}>\n  //                             <i className=\"far fa-edit action mr-2\"></i>\n  //                         </span>\n  //                         <span onClick={() => deleteTrip(rowIndex)}>\n  //                             <i className=\"fas fa-trash action\"></i>\n  //                         </span>\n  //                     </div>\n  //                 );\n  //             },\n  //         },\n  //     ], []);\n  // const {\n  //     getTableProps,\n  //     getTableBodyProps,\n  //     headerGroups,\n  //     rows,\n  //     prepareRow,\n  // } = useTable ({\n  //     columns,\n  //     data: trips,\n  // });\n  // return (\n  // <div>\n  //     <Navbar></Navbar>\n  //     <div className={styles.main}>\n  //     <div className=\"list row\">\n  //         <div className=\"col-md-6 list\">\n  //             <h4>Twoje wycieczki</h4>\n  //             {trips.length > 0 ? <Trips trips={trips} /> : <p></p>}\n  //             <h1>{trips.length}</h1>\n  //             <ul className=\"list-group\">\n  //                 {/* {trips.map((trip, index) => (\n  //                     <li className={\"list-group-item \" + (index === currentIndex ? \"active\" : \"\")} \n  //                     onClick={() => setActiveTrip(trip, index)}\n  //                     key={index}>{trip.name} {trip.date}</li>\n  //                 ))} */}\n  //             </ul>\n  //         </div>\n  //         <div className=\"col-md-12\">\n  //             <button className={styles.no_white_btn} onClick={removeAllTrips}>Usuń wszystko</button>\n  //             <Link to=\"/add\">\n  //                 <button className={styles.no_white_btn}>Dodaj</button>\n  //             </Link>\n  //         </div>\n  //     </div>\n  //     </div>\n  // </div>\n  // );\n  constructor(props) {\n    super(props);\n    this.state = {\n      trips: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:3000/trips/').then(response => {\n      this.setState({\n        trips: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  tripList() {\n    return this.state.trips.map(function (currentTrip, i) {\n      return /*#__PURE__*/_jsxDEV(Trip, {\n        trip: currentTrip\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 20\n      }, this);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Todos List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        style: {\n          marginTop: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nazwa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Datae\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Akcja\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.tripList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Trip\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","TripService","useTable","Link","styles","Navbar","axios","Trip","props","trip","name","date","_id","TripTable","Component","constructor","state","trips","componentDidMount","get","then","response","setState","data","catch","error","console","log","tripList","map","currentTrip","i","render","marginTop"],"sources":["C:/Users/Agnieszka/Desktop/studia/Informatyka/semestr 6/Szkielety w aplikacjach internetowych/Lab/uwierzytelnianie/client/src/components/Trips/TripTable.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo } from \"react\";\r\nimport TripService from \"../TripService.js\";\r\nimport { useTable } from \"react-table\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"../Main/styles.module.css\"\r\nimport Navbar from \"../Navbar.js\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst Trip = props =>(\r\n    <tr>\r\n        <td>{props.trip.name}</td>\r\n        <td>{props.trip.date}</td>\r\n        <td>\r\n            <Link to={\"/edit/\"+props.trip._id}>Edytuj</Link>\r\n        </td>\r\n    </tr>\r\n)\r\n\r\nexport default class TripTable extends Component {\r\n    //  const [trips, setTrips] = useState([]);\r\n    //  const [currentTrip, setCurrentTrip] = useState(null);\r\n    //  const [currentIndex, setCurrentIndex] = useState(-1);\r\n     //const tripRef = useRef();\r\n     //tripRef.current = trips;\r\n\r\n    // useEffect(() => {\r\n    //     retrieveTrips();\r\n    // }, []);\r\n\r\n    // const retrieveTrips = () => {\r\n    //     TripService.getAll()\r\n    //         .then((res) => {\r\n    //             setTrips(res.data);\r\n    //             console.log(res.data)\r\n    //         })\r\n    //         .catch((e) => {\r\n    //             console.log(e);\r\n    //         });\r\n    // };\r\n\r\n    // const refreshTable = () => {\r\n    //     retrieveTrips();\r\n    //     setCurrentIndex(-1)\r\n    //     setCurrentTrip(null)\r\n    // };\r\n\r\n    // const setActiveTrip = (trip, index) => {\r\n    //     setCurrentTrip(trip)\r\n    //     setCurrentIndex(index)\r\n    // }\r\n\r\n    // const removeAllTrips = () => {\r\n    //     TripService.removeAll()\r\n    //         .then((res) => {\r\n    //             console.log(res.data);\r\n    //             refreshTable();\r\n    //         })\r\n    //         .catch((e) => {\r\n    //             console.log(e);\r\n    //         });\r\n    // };\r\n\r\n    // const openTrip = (rowIndex) => {\r\n    //     const id = tripRef.current[rowIndex].id;\r\n    //     props.history.push(\"/trips/\" + id);\r\n    // };\r\n\r\n    // const deleteTrip = (rowIndex) => {\r\n    //     const id = tripRef.current[rowIndex].id;\r\n    //     TripService.remove(id)\r\n    //         .then((res) => {\r\n    //             props.history.push(\"/trips\");\r\n    //             let newTrips = [...tripRef.current]\r\n    //             newTrips.splice(rowIndex, 1)\r\n    //             setTrips(newTrips)\r\n    //         })\r\n    //         .catch((e) => {\r\n    //             console.log(e)\r\n    //         })\r\n    // }\r\n\r\n    // const columns = useMemo(() =>\r\n    //     [\r\n    //         {\r\n    //             Header: \"Nazwa\",\r\n    //             accessor: \"name\",\r\n    //         },\r\n    //         {\r\n    //             Header: \"Data\",\r\n    //             accessor: \"date\",\r\n    //         },\r\n    //         {\r\n    //             Header: \"Akcja\",\r\n    //             accessor: \"actions\",\r\n    //             Cell: (props) => {\r\n    //                 const rowIndex = props.row.id;\r\n    //                 return (\r\n    //                     <div>\r\n    //                         <span onClick={() => openTrip(rowIndex)}>\r\n    //                             <i className=\"far fa-edit action mr-2\"></i>\r\n    //                         </span>\r\n    //                         <span onClick={() => deleteTrip(rowIndex)}>\r\n    //                             <i className=\"fas fa-trash action\"></i>\r\n    //                         </span>\r\n    //                     </div>\r\n    //                 );\r\n    //             },\r\n    //         },\r\n    //     ], []);\r\n\r\n    // const {\r\n    //     getTableProps,\r\n    //     getTableBodyProps,\r\n    //     headerGroups,\r\n    //     rows,\r\n    //     prepareRow,\r\n    // } = useTable ({\r\n    //     columns,\r\n    //     data: trips,\r\n    // });\r\n\r\n    // return (\r\n    // <div>\r\n    //     <Navbar></Navbar>\r\n    //     <div className={styles.main}>\r\n    //     <div className=\"list row\">\r\n    //         <div className=\"col-md-6 list\">\r\n    //             <h4>Twoje wycieczki</h4>\r\n    //             {trips.length > 0 ? <Trips trips={trips} /> : <p></p>}\r\n    //             <h1>{trips.length}</h1>\r\n    //             <ul className=\"list-group\">\r\n                    \r\n    //                 {/* {trips.map((trip, index) => (\r\n    //                     <li className={\"list-group-item \" + (index === currentIndex ? \"active\" : \"\")} \r\n    //                     onClick={() => setActiveTrip(trip, index)}\r\n    //                     key={index}>{trip.name} {trip.date}</li>\r\n    //                 ))} */}\r\n    //             </ul>\r\n    //         </div>\r\n    //         <div className=\"col-md-12\">\r\n    //             <button className={styles.no_white_btn} onClick={removeAllTrips}>Usuń wszystko</button>\r\n    //             <Link to=\"/add\">\r\n    //                 <button className={styles.no_white_btn}>Dodaj</button>\r\n    //             </Link>\r\n    //         </div>\r\n    //     </div>\r\n    //     </div>\r\n    // </div>\r\n    // );\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {trips: []};\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get('http://localhost:3000/trips/')\r\n        .then(response => {\r\n            this.setState({ trips: response.data });\r\n        })\r\n        .catch(function (error){\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    tripList(){\r\n        return this.state.trips.map(function(currentTrip, i){\r\n            return <Trip trip={currentTrip} key={i} />;\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <Navbar></Navbar>\r\n                <h3>Todos List</h3>\r\n                <table className=\"table table-striped\" style={{ marginTop: 20 }} >\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Nazwa</th>\r\n                            <th>Datae</th>\r\n                            <th>Akcja</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { this.tripList() }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,EAA6CC,OAA7C,QAA4D,OAA5D;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAGA,MAAMC,IAAI,GAAGC,KAAK,iBACd;EAAA,wBACI;IAAA,UAAKA,KAAK,CAACC,IAAN,CAAWC;EAAhB;IAAA;IAAA;IAAA;EAAA,QADJ,eAEI;IAAA,UAAKF,KAAK,CAACC,IAAN,CAAWE;EAAhB;IAAA;IAAA;IAAA;EAAA,QAFJ,eAGI;IAAA,uBACI,QAAC,IAAD;MAAM,EAAE,EAAE,WAASH,KAAK,CAACC,IAAN,CAAWG,GAA9B;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QAHJ;AAAA;EAAA;EAAA;EAAA;AAAA,QADJ;;KAAML,I;AAUN,eAAe,MAAMM,SAAN,SAAwBC,SAAxB,CAAkC;EAC7C;EACA;EACA;EACC;EACA;EAED;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAC,WAAW,CAACP,KAAD,EAAQ;IACf,MAAMA,KAAN;IACA,KAAKQ,KAAL,GAAa;MAACC,KAAK,EAAE;IAAR,CAAb;EACH;;EAEDC,iBAAiB,GAAE;IACfZ,KAAK,CAACa,GAAN,CAAU,8BAAV,EACCC,IADD,CACMC,QAAQ,IAAI;MACd,KAAKC,QAAL,CAAc;QAAEL,KAAK,EAAEI,QAAQ,CAACE;MAAlB,CAAd;IACH,CAHD,EAICC,KAJD,CAIO,UAAUC,KAAV,EAAgB;MACnBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACH,CAND;EAOH;;EAEDG,QAAQ,GAAE;IACN,OAAO,KAAKZ,KAAL,CAAWC,KAAX,CAAiBY,GAAjB,CAAqB,UAASC,WAAT,EAAsBC,CAAtB,EAAwB;MAChD,oBAAO,QAAC,IAAD;QAAM,IAAI,EAAED;MAAZ,GAA8BC,CAA9B;QAAA;QAAA;QAAA;MAAA,QAAP;IACH,CAFM,CAAP;EAGH;;EAEDC,MAAM,GAAE;IACJ,oBACI;MAAA,wBACI,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAO,SAAS,EAAC,qBAAjB;QAAuC,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAb,CAA9C;QAAA,wBACI;UAAA,uBACI;YAAA,wBACI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAFJ,eAGI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAHJ;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QADJ,eAQI;UAAA,UACM,KAAKL,QAAL;QADN;UAAA;UAAA;UAAA;QAAA,QARJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAHJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAkBH;;AA5K4C"},"metadata":{},"sourceType":"module"}