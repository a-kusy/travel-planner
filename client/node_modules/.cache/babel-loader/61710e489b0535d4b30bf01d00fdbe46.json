{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Agnieszka\\\\Desktop\\\\studia\\\\Informatyka\\\\semestr 6\\\\Szkielety w aplikacjach internetowych\\\\Lab\\\\uwierzytelnianie\\\\client\\\\src\\\\components\\\\Trips\\\\EditTrip.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport TripService from \"../TripService.js\";\nimport Navbar from \"../Navbar.js\";\nimport styles from \"../Main/styles.module.css\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditTrip = () => {\n  _s();\n\n  const [trip, setTrip] = useState([]);\n  const [submitted, setSubmitted] = useState(false);\n  const [error, setError] = useState(\"\");\n  const {\n    id\n  } = useParams();\n\n  const retrieveTrips = () => {\n    TripService.get(id).then(res => {\n      console.log(res.data);\n      setTrip(res.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  useEffect(() => {\n    retrieveTrips();\n  }, []);\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setTrip({ ...trip,\n      [name]: value\n    });\n  };\n\n  const editTrip = () => {\n    var data = {\n      name: trip.name,\n      date: trip.date,\n      description: trip.description\n    };\n    TripService.update(id, data).then(res => {\n      setTrip({\n        id: res.data.id,\n        name: res.data.name,\n        date: res.data.date,\n        description: res.data.description\n      });\n      setSubmitted(true);\n    }).catch(e => {\n      console.log(e);\n      setError(e.response.data.message);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.mainForm,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submit-form\",\n        children: submitted ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Zedytowano wycieczk\\u0119\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/trips\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.no_white_btn,\n              children: \"Powr\\xF3t\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: editTrip,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Edytuj wycieczk\\u0119\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"name\",\n                children: \"Nazwa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"name\",\n                required: true,\n                value: trip.name,\n                onChange: handleInputChange,\n                name: \"name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"date\",\n                children: \"Data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"date\",\n                required: true,\n                value: trip.date,\n                onChange: handleInputChange,\n                name: \"date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"name\",\n                children: \"Opis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"description\",\n                required: true,\n                value: trip.description,\n                onChange: handleInputChange,\n                name: \"description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 41\n              }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.error_msg,\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 51\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: styles.no_white_btn,\n                children: \"Edytuj\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/trips\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: styles.no_white_btn,\n                  children: \"Powr\\xF3t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EditTrip, \"YGgst2fWWyh6r2n4/UwUiPg03vk=\", false, function () {\n  return [useParams];\n});\n\n_c = EditTrip;\nexport default EditTrip;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditTrip\");","map":{"version":3,"names":["React","useState","useEffect","TripService","Navbar","styles","Link","useParams","EditTrip","trip","setTrip","submitted","setSubmitted","error","setError","id","retrieveTrips","get","then","res","console","log","data","catch","e","handleInputChange","event","name","value","target","editTrip","date","description","update","response","message","mainForm","no_white_btn","error_msg"],"sources":["C:/Users/Agnieszka/Desktop/studia/Informatyka/semestr 6/Szkielety w aplikacjach internetowych/Lab/uwierzytelnianie/client/src/components/Trips/EditTrip.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TripService from \"../TripService.js\";\r\nimport Navbar from \"../Navbar.js\";\r\nimport styles from \"../Main/styles.module.css\"\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nconst EditTrip = () => {\r\n    const [trip, setTrip] = useState([]);\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [error, setError] = useState(\"\")\r\n    const { id } = useParams()\r\n\r\n    const retrieveTrips = () => {\r\n        TripService.get(id)\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                setTrip(res.data);\r\n            })\r\n            .catch((e) => {\r\n                console.log(e);\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        retrieveTrips()\r\n    }, [])\r\n\r\n    const handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        setTrip({ ...trip, [name]: value });\r\n    };\r\n\r\n    const editTrip = () => {\r\n        var data = {\r\n            name: trip.name,\r\n            date: trip.date,\r\n            description: trip.description\r\n        }\r\n\r\n        TripService.update(id, data)\r\n            .then(res => {\r\n                setTrip({\r\n                    id: res.data.id,\r\n                    name: res.data.name,\r\n                    date: res.data.date,\r\n                    description: res.data.description\r\n                })\r\n                setSubmitted(true);\r\n            }).catch(e => {\r\n                console.log(e)\r\n                setError(e.response.data.message)\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Navbar></Navbar>\r\n            <div className={styles.mainForm}>\r\n                <div className=\"submit-form\">\r\n                    {submitted ? (\r\n                            <div>\r\n                                <h4>Zedytowano wycieczkę</h4>\r\n                                <Link to=\"/trips\">\r\n                                    <button className={styles.no_white_btn}>Powrót</button>\r\n                                </Link>\r\n                            </div>\r\n                        ) : (\r\n                            <div>\r\n                                <form onSubmit={editTrip}>\r\n                                    <h2>Edytuj wycieczkę</h2>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"name\">Nazwa</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"name\"\r\n                                            required\r\n                                            value={trip.name}\r\n                                            onChange={handleInputChange}\r\n                                            name=\"name\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"date\">Data</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"date\"\r\n                                            required\r\n                                            value={trip.date}\r\n                                            onChange={handleInputChange}\r\n                                            name=\"date\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"name\">Opis</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"description\"\r\n                                            required\r\n                                            value={trip.description}\r\n                                            onChange={handleInputChange}\r\n                                            name=\"description\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <br></br>\r\n                                        {error && <div className={styles.error_msg}>{error}</div>}\r\n                                        <button type=\"submit\" className={styles.no_white_btn}>Edytuj</button>\r\n                                        <Link to=\"/trips\">\r\n                                            <button className={styles.no_white_btn}>Powrót</button>\r\n                                        </Link>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default EditTrip\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}